drop table if exists discounts cascade;
drop table if exists items cascade;
drop table if exists itemSales cascade;
drop table if exists Sales cascade;

CREATE TABLE IF NOT EXISTS discounts
(
    id    BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL PRIMARY KEY,
    val SMALLINT                                NOT NULL
);

CREATE TABLE IF NOT EXISTS items
(
    id    BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL PRIMARY KEY,
    name  VARCHAR(128)                            NOT NULL,
    price double                                  NOT NULL
);

CREATE TABLE IF NOT EXISTS itemSales
(
    id      BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL PRIMARY KEY,
    count   SMALLINT                                NOT NULL,
    discount SMALLINT                                NOT NULL
);

CREATE TABLE IF NOT EXISTS sale
(
    id          BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL PRIMARY KEY,
    created_on  TIMESTAMP DEFAULT NOW()
);